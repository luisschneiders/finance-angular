<div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <div ng-if="data.messages.error" role="alert" class="alert alert-danger">
            <div ng-repeat="error in data.messages.error">{{error.msg}}</div>
        </div>
        <div ng-if="data.messages.success" role="alert" class="alert alert-success">
          <div ng-repeat="success in data.messages.success">{{success.msg}}</div>
        </div>
        <form name="standardForm" ng-submit="savePurchase(standardForm.$valid)" class="form-horizontal" novalidate>
          <div class="form-group">
            <label for="purchaseDate" class="col-sm-3">Date</label>
            <div class="col-sm-7">
              <input type="text" name="purchaseDate" id="purchaseDate" class="form-control" ng-model='data.purchase.purchaseDate' calendar required/>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseBank" class="col-sm-3">Bank</label>
            <div class="col-sm-7">
              <span ng-if="data.banks.length == 0" class="text-danger">{{::data.notFound.message}} <a ng-href="{{::data.notFound.bank.url}}">({{data.notFound.bank.title}})</a></span>
              <select name="purchaseBank" id="purchaseBank" class="form-control text-uppercase" ng-model="data.purchase.purchaseBank" required
                ng-options="bank.id as bank.bankDescription + ' - $' + bank.bankCurrentBalance for bank in data.banks" ng-disabled="data.banks.length == 0">
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseExpenseId" class="col-sm-3">Expense</label>
            <div class="col-sm-7">
              <span ng-if="data.expenses.length == 0" class="text-danger">{{::data.notFound.message}} <a ng-href="{{::data.notFound.expense.url}}">({{data.notFound.expense.title}})</a></span>
              <select name="purchaseExpenseId" id="purchaseExpenseId" class="form-control text-uppercase" ng-model="data.purchase.purchaseExpenseId" required
                ng-options="expense.id as expense.expenseTypeDescription for expense in data.expenses" ng-disabled="data.expenses.length == 0">
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseComments" class="col-sm-3">Comments</label>
            <div class="col-sm-7">
              <textarea name="purchaseComments" id="purchaseComments" class="form-control" ng-model="data.purchase.purchaseComments" rows="3" required></textarea>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseAmount" class="col-sm-3">Amount</label>
            <div class="col-sm-7">
              <input type="text" name="purchaseAmount" id="purchaseAmount" class="form-control" ng-model="data.purchase.purchaseAmount" format="number" required>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-3 col-sm-4">
              <button type="submit" class="btn btn-success">Save</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
