<div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <section ng-include="'components/partials/messages.tpl.html'"></section>
        <form name="standardForm" ng-submit="savePurchase(standardForm.$valid)" class="form-horizontal" novalidate ng-if="!state.isNull && !state.noSettings">
          <div class="form-group">
            <label for="purchaseDate" class="col-sm-3">Date</label>
            <div class="col-sm-7">
              <input type="text" name="purchaseDate" id="purchaseDate" class="form-control" ng-model='data.purchase.purchaseDate' calendar required/>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseBank" class="col-sm-3">Bank</label>
            <div class="col-sm-7">
              <span ng-if="data.banks.length == 0" class="text-danger">{{::state.settings.purchases.defaults.messages.notFound}}
                <a ng-href="{{::state.settings.purchases.newRecord.table.bank.url}}">({{state.settings.purchases.newRecord.table.bank.title}})</a>
              </span>
              <select name="purchaseBank" id="purchaseBank" class="form-control text-uppercase" ng-model="data.purchase.purchaseBank" required
                ng-options="bank.id as bank.bankDescription + ' - $' + bank.bankCurrentBalance for bank in data.banks" ng-disabled="data.banks.length == 0">
              </select>
            </div>
            <div class="col-sm-2 loading" ng-show="state.isLoadingBanks">
              <i ng-class="state.settings.defaults.cssClassLoading"></i>
              <span class="sr-only">Loading...</span>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseExpenseId" class="col-sm-3">Expense</label>
            <div class="col-sm-7">
              <span ng-if="data.expensesType.length == 0" class="text-danger">{{::state.settings.purchases.defaults.messages.notFound}}
                <a ng-href="{{::state.settings.purchases.newRecord.table.expenseType.url}}">({{state.settings.purchases.newRecord.table.expenseType.title}})</a>
              </span>
              <select name="purchaseExpenseId" id="purchaseExpenseId" class="form-control text-uppercase" ng-model="data.purchase.purchaseExpenseId" required
                ng-options="expense.id as expense.expenseTypeDescription for expense in data.expensesType" ng-disabled="data.expensesType.length == 0">
              </select>
            </div>
            <div class="col-sm-2 loading" ng-show="state.isLoadingExpensesType">
              <i ng-class="state.settings.defaults.cssClassLoading"></i>
              <span class="sr-only">Loading...</span>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseComments" class="col-sm-3">Comments</label>
            <div class="col-sm-7">
              <textarea name="purchaseComments" id="purchaseComments" class="form-control" ng-model="data.purchase.purchaseComments" rows="3" required></textarea>
            </div>
          </div>
          <div class="form-group">
            <label for="purchaseAmount" class="col-sm-3">Amount</label>
            <div class="col-sm-7">
              <input type="text" name="purchaseAmount" id="purchaseAmount" class="form-control" ng-model="data.purchase.purchaseAmount" format="number" required>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-3 col-sm-4">
              <button type="submit" class="btn btn-success">Save</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
